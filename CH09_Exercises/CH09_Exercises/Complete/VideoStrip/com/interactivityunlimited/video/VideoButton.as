class com.interactivityunlimited.video.VideoButton extends MovieClip {	var nc:NetConnection;	var ns:NetStream;	var theVideo:Video;	var videoPlaying:Boolean = false;		var ourBroadcaster:Object;	var ourMovie:String;		var lastDiff:Number = 0;			// our constructor -- automatically called as soon as we call AttachMovie	function VideoButton() {		// First, set this object up to be a broadcaster		ourBroadcaster = new Object();		AsBroadcaster.initialize(ourBroadcaster);				nc = new NetConnection();		nc.connect(null);				ns = new NetStream(nc);		theVideo.attachVideo(ns);			}		public function setOurMovie( newMovie:String ) {		ourMovie = newMovie;		ns.play( "thumbs/" + ourMovie );			}		public function onEnterFrame() {		if( !videoPlaying ) {			var deltaX:Number = Math.round(_root._xmouse - this._x);			var deltaY:Number = Math.round(_root._ymouse - this._y);			var diff:Number = Math.round(Math.sqrt((deltaX * deltaX) + (deltaY * deltaY)));						if( diff > 80 ) {				diff = 80;			};						if( diff != lastDiff ) {				if( diff < lastDiff ) {					this.swapDepths( 150 );				}								lastDiff = diff;			}						this._alpha = (100 - diff/1.5);			this._xscale = (100 - diff/1.2);			this._yscale = (100 - diff/1.2);					}	}		public function pauseVideo() {		ns.pause( true );	}		public function onRollOver() {		if( !videoPlaying ) {			ns.play( "thumbs/" + ourMovie );				}	}		public function onPress() {		if( !videoPlaying ) {			ourBroadcaster.broadcastMessage( "selectMovie", ourMovie );		}	}		public function setVideoPlaying( flag:Boolean ):Void {		videoPlaying = flag;	}		public function isVideoPlaying():Boolean {		return videoPlaying;	}		public function addListener( theListener:Object ):Boolean {		return ourBroadcaster.addListener( theListener );	}		public function removeListener( theListener:Object ):Boolean {		return ourBroadcaster.removeListener( theListener );	}}